<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <title>Ù…Ø¯Ø±Ø³Ø© Ø¨Ø¯Ø± Ø§Ù„Ø¯ÙŠÙ† Ø§Ù„ØºØ²Ø§Ù„</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body { 
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
      direction: rtl; 
      background: linear-gradient(135deg, #121212 0%, #1a1a2e 100%); 
      color: #fff; 
      text-align: center; 
      padding: 20px; 
      margin: 0;
      min-height: 100vh;
      position: relative;
      padding-bottom: 120px;
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
    }
    
    .header {
      margin-bottom: 30px;
    }
    
    .logo-container {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 30px;
      margin: 20px auto;
      flex-wrap: wrap;
      padding: 15px;
      background: rgba(30, 30, 30, 0.7);
      border-radius: 15px;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
    }
    
    .logo {
      width: 180px;
      height: 180px;
      object-fit: cover;
      border-radius: 12px;
      box-shadow: 0 0 15px rgba(255, 152, 0, 0.6);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    
    .logo:hover {
      transform: scale(1.05);
      box-shadow: 0 0 20px rgba(255, 152, 0, 0.8);
    }
    
    .logo2 {
      width: 180px;
      height: 180px;
      object-fit: cover;
      border-radius: 12px;
      box-shadow: 0 0 15px rgba(0, 150, 255, 0.6);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    
    .logo2:hover {
      transform: scale(1.05);
      box-shadow: 0 0 20px rgba(0, 150, 255, 0.8);
    }
    
    h1 { 
      color: #ff9800; 
      margin-bottom: 10px; 
      font-size: 2.5rem;
      text-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
    }
    
    .subtitle { 
      color: #ccc; 
      margin-bottom: 40px; 
      font-size: 1.2rem;
    }
    
    .buttons-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 15px;
      margin: 30px 0;
    }
    
    .btn { 
      display: block; 
      margin: 0; 
      padding: 16px 28px; 
      background: linear-gradient(to right, #ff9800, #f57c00); 
      color: #212121; 
      font-weight: bold; 
      text-decoration: none; 
      border-radius: 10px; 
      width: 90%; 
      max-width: 350px; 
      border: none;
      font-size: 1.1rem;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }
    
    .btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
      background: linear-gradient(to right, #ffa726, #f57c00);
    }
    
    input, button { 
      padding: 12px; 
      margin: 8px; 
      font-size: 16px; 
      border-radius: 8px; 
      border: none; 
      background: #333; 
      color: #fff; 
      width: 90%;
      max-width: 300px;
      box-sizing: border-box;
    }
    
    input:focus {
      outline: 2px solid #ff9800;
    }
    
    button { 
      background: linear-gradient(to right, #ff9800, #f57c00); 
      color: #212121; 
      font-weight: bold; 
      cursor: pointer;
      transition: all 0.3s ease;
    }
    
    button:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }
    
    table { 
      width: 100%; 
      border-collapse: collapse; 
      margin-top: 20px; 
      background: #222; 
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }
    
    th, td { 
      border: 1px solid #444; 
      padding: 12px; 
      color: #fff; 
    }
    
    th {
      background: #333;
      color: #ff9800;
    }
    
    tr:nth-child(even) {
      background: #2a2a2a;
    }
    
    .section { 
      display: none; 
      margin-top: 30px; 
      padding: 25px; 
      border: 1px solid #444; 
      border-radius: 15px; 
      background: rgba(30, 30, 30, 0.8); 
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
    }
    
    h2 {
      color: #ff9800;
      margin-bottom: 20px;
      border-bottom: 2px solid #ff9800;
      padding-bottom: 10px;
    }
    
    .input-group {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 10px;
      margin-bottom: 20px;
    }
    
    .footer {
      margin-top: 40px;
      color: #777;
      font-size: 0.9rem;
      padding: 15px;
      border-top: 1px solid #333;
    }
    
    /* ØªØµÙ…ÙŠÙ… Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø¨Ø±Ù…Ø¬ */
    .developer-info {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background: linear-gradient(90deg, #0a3d0a 0%, #1a5c1a 50%, #0a3d0a 100%);
      color: #FFD700;
      padding: 15px 0;
      text-align: center;
      font-size: 1.2rem;
      font-weight: bold;
      border-top: 3px solid #FFD700;
      box-shadow: 0 -5px 15px rgba(0, 0, 0, 0.5);
      z-index: 1000;
      animation: glow 2s infinite alternate;
    }
    
    .developer-info p {
      margin: 5px 0;
      text-shadow: 0 0 10px rgba(255, 215, 0, 0.7);
    }
    
    .developer-name {
      font-size: 1.4rem;
      color: #FFD700;
      text-shadow: 0 0 15px rgba(255, 215, 0, 0.9);
    }
    
    .developer-phone {
      direction: ltr;
      display: inline-block;
      background: rgba(0, 0, 0, 0.3);
      padding: 5px 15px;
      border-radius: 20px;
      margin-top: 5px;
      border: 1px solid #FFD700;
    }
    
    @keyframes glow {
      from {
        box-shadow: 0 -5px 15px rgba(0, 0, 0, 0.5);
        text-shadow: 0 0 10px rgba(255, 215, 0, 0.7);
      }
      to {
        box-shadow: 0 -5px 20px rgba(255, 215, 0, 0.3);
        text-shadow: 0 0 15px rgba(255, 215, 0, 0.9);
      }
    }
    
    @media (max-width: 768px) {
      .logo-container {
        gap: 20px;
      }
      
      .logo, .logo2 {
        width: 140px;
        height: 140px;
      }
      
      h1 {
        font-size: 2rem;
      }
      
      .btn {
        padding: 14px 20px;
        font-size: 1rem;
      }
      
      .developer-info {
        font-size: 1rem;
        padding: 12px 0;
      }
      
      .developer-name {
        font-size: 1.2rem;
      }
    }
    
    @media (max-width: 480px) {
      .logo, .logo2 {
        width: 120px;
        height: 120px;
      }
      
      h1 {
        font-size: 1.8rem;
      }
      
      .developer-info {
        font-size: 0.9rem;
        padding: 10px 0;
      }
      
      .developer-name {
        font-size: 1.1rem;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <div class="logo-container">
        <img src="https://i.ibb.co/KpdJjYwq/logo.jpg" alt="Ø´Ø¹Ø§Ø± Ø§Ù„Ù…Ø¯Ø±Ø³Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ" class="logo">
        <img src="https://i.ibb.co/r21PcRk9/logo2.jpg" alt="Ø´Ø¹Ø§Ø± Ø§Ù„Ù…Ø¯Ø±Ø³Ø© Ø§Ù„Ø¥Ø¶Ø§ÙÙŠ" class="logo2">
      </div>
      
      <h1>Ù…Ø¯Ø±Ø³Ø© Ø¨Ø¯Ø± Ø§Ù„Ø¯ÙŠÙ† Ø§Ù„ØºØ²Ø§Ù„</h1>
      <p class="subtitle">Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª ÙˆØ¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø¯Ø±Ø³Ø©</p>
    </div>

    <div class="buttons-container">
      <button class="btn" onclick="showSection('parent')">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Ø¯Ø®ÙˆÙ„ ÙˆÙ„ÙŠ Ø§Ù„Ø£Ù…Ø±</button>
      <button class="btn" onclick="askPassword('teacher')">ğŸ‘¨â€ğŸ« Ø¯Ø®ÙˆÙ„ Ù…Ø¹Ù„Ù…</button>
      <button class="btn" onclick="askPassword('admin')">ğŸ§‘â€ğŸ’¼ Ø¯Ø®ÙˆÙ„ Ù…Ø¯ÙŠØ±</button>
    </div>

    <!-- ÙˆÙ„ÙŠ Ø§Ù„Ø£Ù…Ø± -->
    <div id="parent" class="section">
      <h2>Ø§Ø³ØªØ¹Ù„Ø§Ù… ÙˆÙ„ÙŠ Ø§Ù„Ø£Ù…Ø±</h2>
      <div class="input-group">
        <input id="searchName" placeholder="Ø§Ø³Ù… Ø§Ù„Ø·Ø§Ù„Ø¨">
        <input id="searchClass" placeholder="Ø§Ù„ØµÙ">
      </div>
      <button onclick="searchStudent()">ğŸ” Ø¨Ø­Ø«</button>
      <div id="result"></div>
    </div>

    <!-- Ø§Ù„Ù…Ø¹Ù„Ù… -->
    <div id="teacher" class="section">
      <h2>Ø¥Ø¯Ø®Ø§Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø·Ø§Ù„Ø¨</h2>
      <div class="input-group">
        <input id="name" placeholder="Ø§Ø³Ù… Ø§Ù„Ø·Ø§Ù„Ø¨">
        <input id="class" placeholder="Ø§Ù„ØµÙ">
        <input id="group" placeholder="Ø§Ù„Ø´Ø¹Ø¨Ø©">
        <input id="subject" placeholder="Ø§Ù„Ù…Ø§Ø¯Ø©">
        <input id="absence" placeholder="ØºÙŠØ§Ø¨">
        <input id="delay" placeholder="ØªØ£Ø®Ø±">
        <input id="homework" placeholder="ÙˆØ¸Ø§Ø¦Ù">
        <input id="quiz" placeholder="Ù…Ø°Ø§ÙƒØ±Ø©">
        <input id="exam" placeholder="Ø§Ù…ØªØ­Ø§Ù†">
        <input id="date" placeholder="ØªØ§Ø±ÙŠØ®">
      </div>
      <button onclick="saveData()">ğŸ’¾ Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</button>
    </div>

    <!-- Ø§Ù„Ù…Ø¯ÙŠØ± -->
    <div id="admin" class="section">
      <h2>Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø¯ÙŠØ±</h2>
      <button onclick="loadData()">ğŸ”„ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</button>
      <div id="adminData"></div>
    </div>
    
    <div class="footer">
      <p>Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© Â© Ù…Ø¯Ø±Ø³Ø© Ø¨Ø¯Ø± Ø§Ù„Ø¯ÙŠÙ† Ø§Ù„ØºØ²Ø§Ù„ 2023</p>
    </div>
  </div>

  <!-- Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø¨Ø±Ù…Ø¬ -->
  <div class="developer-info">
    <p>ØªÙ… Ø§Ù„ØªØµÙ…ÙŠÙ… ÙˆØ§Ù„Ø¨Ø±Ù…Ø¬Ø© Ø¨ÙˆØ§Ø³Ø·Ø©</p>
    <p class="developer-name">Ù…Ø­Ø¯ Ø§Ù„Ø­Ø³ÙŠÙ†</p>
    <p class="developer-phone">0952725590</p>
  </div>

  <script>
    const apiURL = "https://sheetdb.io/api/v1/6534bwnl5o7sl";
    const passwords = { teacher: "1990", admin: "1992" };

    function askPassword(role) {
      const input = prompt("Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±:");
      if (input === passwords[role]) {
        showSection(role);
        if (role === "admin") loadData();
      } else {
        alert("âŒ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©");
      }
    }

    function showSection(id) {
      document.querySelectorAll(".section").forEach(s => s.style.display = "none");
      document.getElementById(id).style.display = "block";
      window.scrollTo({ top: document.getElementById(id).offsetTop - 50, behavior: 'smooth' });
    }

    function saveData() {
      const student = {
        name: val("name"), 
        class: val("class"), 
        group: val("group"),
        subject: val("subject"), 
        absence: val("absence"), 
        delay: val("delay"),
        homework: val("homework"), 
        quiz: val("quiz"), 
        exam: val("exam"), 
        date: val("date")
      };
      
      // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
      if (!student.name || !student.class || !student.subject) {
        alert("âš ï¸ ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© (Ø§Ù„Ø§Ø³Ù…ØŒ Ø§Ù„ØµÙØŒ Ø§Ù„Ù…Ø§Ø¯Ø©)");
        return;
      }
      
      fetch(apiURL, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ data: student })
      })
      .then(response => {
        if (response.ok) {
          alert("âœ… ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù†Ø¬Ø§Ø­");
          // Ù…Ø³Ø­ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø¨Ø¹Ø¯ Ø§Ù„Ø­ÙØ¸
          document.querySelectorAll('#teacher input').forEach(input => input.value = '');
        } else {
          alert("âŒ Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª");
        }
      })
      .catch(error => {
        console.error('Error:', error);
        alert("âŒ Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…");
      });
    }

    function searchStudent() {
      const name = val("searchName");
      const className = val("searchClass");
      
      if (!name && !className) {
        alert("âš ï¸ ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ø·Ø§Ù„Ø¨ Ø£Ùˆ Ø§Ù„ØµÙ Ù„Ù„Ø¨Ø­Ø«");
        return;
      }
      
      fetch(apiURL).then(res => res.json()).then(data => {
        const filtered = data.filter(s => 
          (!name || s.name === name) && 
          (!className || s.class === className)
        );
        const resultDiv = document.getElementById("result");
        if (filtered.length === 0) {
          resultDiv.innerHTML = "<p style='color: #ff9800; padding: 20px;'>âŒ Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª ØªØ·Ø§Ø¨Ù‚ Ù…Ø¹Ø§ÙŠÙŠØ± Ø§Ù„Ø¨Ø­Ø«</p>";
          return;
        }
        let html = `<table><tr><th>Ø§Ù„Ù…Ø§Ø¯Ø©</th><th>ØºÙŠØ§Ø¨</th><th>ØªØ£Ø®Ø±</th><th>ÙˆØ¸Ø§Ø¦Ù</th><th>Ù…Ø°Ø§ÙƒØ±Ø©</th><th>Ø§Ù…ØªØ­Ø§Ù†</th><th>ØªØ§Ø±ÙŠØ®</th></tr>`;
        filtered.forEach(s => {
          html += `<tr>
            <td>${s.subject || '-'}</td>
            <td>${s.absence || '-'}</td>
            <td>${s.delay || '-'}</td>
            <td>${s.homework || '-'}</td>
            <td>${s.quiz || '-'}</td>
            <td>${s.exam || '-'}</td>
            <td>${s.date || '-'}</td>
          </tr>`;
        });
        html += `</table>`;
        resultDiv.innerHTML = html;
      }).catch(error => {
        console.error('Error:', error);
        document.getElementById("result").innerHTML = "<p style='color: #ff9800;'>âŒ Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</p>";
      });
    }

    function loadData() {
      fetch(apiURL).then(res => res.json()).then(data => {
        if (data.length === 0) {
          document.getElementById("adminData").innerHTML = "<p style='color: #ff9800; padding: 20px;'>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù…</p>";
          return;
        }
        
        let html = `<table><tr><th>Ø§Ù„Ø§Ø³Ù…</th><th>Ø§Ù„ØµÙ</th><th>Ø§Ù„Ø´Ø¹Ø¨Ø©</th><th>Ø§Ù„Ù…Ø§Ø¯Ø©</th><th>ØºÙŠØ§Ø¨</th><th>ØªØ£Ø®Ø±</th><th>ÙˆØ¸Ø§Ø¦Ù</th><th>Ù…Ø°Ø§ÙƒØ±Ø©</th><th>Ø§Ù…ØªØ­Ø§Ù†</th><th>ØªØ§Ø±ÙŠØ®</th><th>Ø­Ø°Ù</th></tr>`;
        data.forEach(s => {
          html += `<tr>
            <td>${s.name || '-'}</td>
            <td>${s.class || '-'}</td>
            <td>${s.group || '-'}</td>
            <td>${s.subject || '-'}</td>
            <td>${s.absence || '-'}</td>
            <td>${s.delay || '-'}</td>
            <td>${s.homework || '-'}</td>
            <td>${s.quiz || '-'}</td>
            <td>${s.exam || '-'}</td>
            <td>${s.date || '-'}</td>
            <td><button onclick="deleteRow('${s.id}')" style="padding: 5px 10px; font-size: 14px;">ğŸ—‘ï¸</button></td>
          </tr>`;
        });
        html += `</table>`;
        document.getElementById("adminData").innerHTML = html;
      }).catch(error => {
        console.error('Error:', error);
        document.getElementById("adminData").innerHTML = "<p style='color: #ff9800;'>âŒ Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</p>";
      });
    }

    function deleteRow(id) {
      if (confirm("Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ø³Ø¬Ù„ØŸ")) {
        fetch(`${apiURL}/id/${id}`, { method: "DELETE" })
          .then(() => {
            alert("âœ… ØªÙ… Ø­Ø°Ù Ø§Ù„Ø³Ø¬Ù„ Ø¨Ù†Ø¬Ø§Ø­");
            loadData();
          })
          .catch(error => {
            console.error('Error:', error);
            alert("âŒ Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø­Ø°Ù Ø§Ù„Ø³Ø¬Ù„");
          });
      }
    }

    function val(id) {
      return document.getElementById(id).value.trim();
    }
  </script>
</body>
</html>
